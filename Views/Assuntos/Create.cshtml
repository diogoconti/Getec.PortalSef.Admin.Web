@model List<Getec.PortalSef.Models.Assuntos>

@{
    ViewData["Title"] = "Create";
}

<h1>Create</h1>



<script>

        $(document).ready(function() {
            var max_fields      = 20; //maximum input boxes allowed
            var wrapper         = $("#div_documentos"); //Fields wrapper
            var add_button      = $("#adicionar_documento"); //Add button ID

            var x = 1; //initlal text box count
            $(add_button).click(function(e){ //on add input button click
                e.preventDefault();
                if(x < max_fields){ //max input box allowed
                    x++; //text box increment
                    $(wrapper).prepend('<div style="padding: 10px; border: 1px dotted #ccc; margin: 5px; height: 120px;"><div style="width: 80%; float: left"><div style="margin: 1px; font-size: 16px; width: 70%; "><input class="" style="width: 70%; " type="file" value="" name="documentos_arquivos[]" ></div><br><div style="margin: 1px; font-size: 16px; width: 90%; "><b>TÃ­tulo do arquivo: </b><br><input class="" style="width: 80%; height: 30px" type="text" value="" name="documentos_titulos[]" ></div><br></div><button id="remover_documento" type="button" style="float: right; margin-left: 4px; height: 41px" class="btn btn-danger">X</button></div>'); //add input box
                    //$(wrapper).prepend('<div><input type="file" name="documentos[]" value="" style="height: 42px; width:88%" class="form-control col-md-3 col-xs-3"><button id="remover_documento" type="button" style="float: right; margin-left: 4px; height: 41px" class="btn btn-danger">X</button></div>'); //add input box
                }
            });

            $(wrapper).on("click","#remover_documento", function(e){ //user click on remove text
                e.preventDefault(); $(this).parent('div').remove(); x--;
            })
        });


        $(document).ready(function() {
            var max_fields_audio      = 10; //maximum input boxes allowed
            var wrapper_audio         = $("#div_audios"); //Fields wrapper
            var add_button_audio      = $("#adicionar_audio"); //Add button ID

            var x = 1; //initlal text box count
            $(add_button_audio).click(function(e){ //on add input button click
                e.preventDefault();
                if(x < max_fields_audio){ //max input box allowed
                    x++; //text box increment
                    $(wrapper_audio).prepend('<div style="margin: 0px; padding: 0px; " class="col-md-12"><input accept=".mp3" type="file" name="audios[]" value="" style="height: 42px; width:88%" class="form-control col-md-3 col-xs-3"><button id="remover_audio" type="button" style="float: right; margin-left: 4px; height: 41px" class="btn btn-danger">X</button></div>'); //add input box
                }
            });

            $(wrapper_audio).on("click","#remover_audio", function(e){ //user click on remove text
                e.preventDefault(); $(this).parent('div').remove(); x--;
            })
        });


        $(document).ready(function() {
            var max_fields_link      = 10; //maximum input boxes allowed
            var wrapper_link         = $("#div_links"); //Fields wrapper
            var add_button_link      = $("#adicionar_link"); //Add button ID

            var x = 1; //initlal text box count
            $(add_button_link).click(function(e){ //on add input button click
                e.preventDefault();
                if(x < max_fields_link){ //max input box allowed
                    x++; //text box increment
                    $(wrapper_link).prepend('<div style="margin: 0px; padding: 0px; " class="col-md-12"><input type="text" name="links_titulos[]" value="" placeholder="TÃ­tulo do link" style="margin-right: 10px; height: 42px; width:45%" class="form-control col-md-1 col-xs-1"><input placeholder="URL do link, exemplo: http://sef.sc.gov.br" type="text" name="links_links[]" value="" style="height: 42px; width:45%" class="form-control col-md-1 col-xs-1"><button id="remover_link" type="button" style="float: right; margin-left: 4px; height: 41px" class="btn btn-danger">X</button></div>'); //add input box
                }
            });

            $(wrapper_link).on("click","#remover_link", function(e){ //user click on remove text
                e.preventDefault(); $(this).parent('div').remove(); x--;
            })
        });


        $(document).ready(function () {
            var max_fields_modulo      = 10; //maximum input boxes allowed
            var wrapper_modulo         = $("#div_modulos"); //Fields wrapper
            var add_button_modulo      = $("#adicionar_modulo"); //Add button ID

            var x = 1; //initlal text box count
            $(add_button_modulo).click(function(e){ //on add input button click
                e.preventDefault();
                if (x < max_fields_modulo) { //max input box allowed
                    x++; //text box increment
                    $(wrapper_modulo).prepend('<div style="margin: 0px; padding: 0px; " class="col-md-12"><select name="modulos[]" class="col-md-4 col-sm-4 col-xs-12" style="height: 42px"><option value=""> Selecione o novo MÃ³dulo</option>@foreach (var item in ViewBag.Modulos){<option value="@item.Id"> @item.Titulo </option>}</select><button id="remover_modulo" type="button" style="float: right; margin-left: 4px; height: 41px" class="btn btn-danger">X</button></div>'); //add input box
                }
            });

            $(wrapper_modulo).on("click","#remover_modulo", function(e){ //user click on remove text
                e.preventDefault(); $(this).parent('div').remove(); x--;
            })
        });


        $(document).ready(function() {
            var max_fields_sistema      = 10; //maximum input boxes allowed
            var wrapper_sistema         = $("#div_sistemas"); //Fields wrapper
            var add_button_sistema      = $("#adicionar_sistema"); //Add button ID

            var x = 1; //initlal text box count
            $(add_button_sistema).click(function(e){ //on add input button click
                e.preventDefault();
                if (x < max_fields_sistema) { //max input box allowed
                    x++; //text box increment
                    $(wrapper_sistema).prepend('<div style="margin: 0px; padding: 0px; " class="col-md-12"><select name="sistemas[]" class="col-md-4 col-sm-4 col-xs-12" style="height: 42px"><option value=""> Selecione o novo Sistema</option>@foreach (var item in ViewBag.Sistemas){<option value="@item.Id"> @item.Sigla </option>}</select><button id="remover_sistema" type="button" style="float: right; margin-left: 4px; height: 41px" class="btn btn-danger">X</button></div>'); //add input box
                }
            });

            $(wrapper_sistema).on("click","#remover_sistema", function(e){ //user click on remove text
                e.preventDefault(); $(this).parent('div').remove(); x--;
            })
        });


        function validaForm() {
            msg = '';
            campo = '';

            var x = document.getElementsByTagName("input");
            for (var i=0; i<x.length; i++)
            {
                if (x[i].type == "file") {
                    if (x[i].files.length>0) {
                        if (x[i].files[0].size/1024/1024>35) {
                            alert('Arquivo '+x[i].files[0].name+' excede o tamanho mÃ¡ximo permitido (35Mb)');
                            msg = 'Arquivo '+x[i].files[0].name+' excede o tamanho mÃ¡ximo permitido (35Mb)';
                        }
                    }
                }
            }

           /* if (document.getElementById('titulo').selectedIndex<=0) {
                msg = 'Campo tÃ­tulo Ã© obrigatÃ³rio';
                campo = 'titulo';
            };
            */

            if (titulo.value == "") {
                msg = "Campo tÃ­tulo Ã© obrigatÃ³rio"
                new PNotify({
                    title: 'AtenÃ§Ã£o',
                    text: msg,
                    type: 'error'
                });
                                titulo.focus();
            }


            if(perfil_contabilista.checked || perfil_publico.checked || perfil_pj.checked || perfil_pf.checked){
            }else{
                msg = "Selecione ao menos um Perfil para o assunto ser associado"
                                new PNotify({
                    title: 'AtenÃ§Ã£o',
                    text: msg,
                    type: 'error'
                });
            }

            if (id_entidade.value == "") {
                msg = "informe a Entidade"
                                new PNotify({
                    title: 'AtenÃ§Ã£o',
                    text: msg,
                    type: 'error'
                });

            }

            if (msg=='') {
                new PNotify({
                    title: 'Dados corretos!',
                    text: 'Ãtem atualizado com sucesso.',
                    type: 'success'
                });
                document.formEditar.submit();
            }
            //else {
            //   new PNotify({
            //      title: 'Preencha os campos obrigatórios antes de prosseguir.',

            //     type: 'error'
            // });
            // document.getElementById(campo).focus();
            //  };
        }

</script>




<!-- page content -->
<div class="right_col" role="main" style="margin-left: 0px">

    <div class="">
        <br><br><br><br>
        <div class="clearfix"></div>

        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>FormulÃ¡rio de Cadastramento // Dados do ASSUNTO</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">

                        <form name="formEditar" id="formEditar" method="post" class="form-horizontal" novalidate enctype="multipart/form-data">

                            <span class="section">Dados cadastrais</span>

                            <!-- TITULO -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="titulo">
                                    TÃ­tulo <span class="required">*</span>
                                </label>
                                <div class="col-md-3 col-sm-3 col-xs-12">
                                    <input type="text" id="titulo" name="titulo" value="" required="required" class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>

                            <!-- PERFIL -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="titulo">
                                    Perfil
                                </label>
                                <div class="col-md-9 col-sm-3 col-xs-12">
                                    <input style="width: 12px; height: 12px; " type="checkbox" id="perfil_contabilista" name="perfil_contabilista" value="1"> <font style="font-size: 16px">Contabilista</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input style="width: 12px; height: 12px; " type="checkbox" id="perfil_pf" name="perfil_pf" value="1"> <font style="font-size: 16px">Perfil CidadÃ£o</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input style="width: 12px; height: 12px; " type="checkbox" id="perfil_pj" name="perfil_pj" value="1"> <font style="font-size: 16px">Perfil Empresa</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input style="width: 12px; height: 12px; " type="checkbox" id="perfil_publico" value="1" name="perfil_publico"> <font style="font-size: 16px">Poder PÃºblico</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </div>
                            </div>

                            <!-- ENTIDADE -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="status">
                                    Entidade
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <select name="id_entidade" id="id_entidade" class="col-md-3 col-sm-3 col-xs-12" style='height: 32px'>
                                        <option value=""> Selecione </option>
                                        @foreach (var item in ViewBag.Entidades)
                                        {
                                            <option value="@item.Id"> @item.Sigla</option>
                                        }
                                    </select>
                                </div>
                            </div>

                            <!-- GERENCIA -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="status">
                                    GerÃªncia
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <select name="id_gerencia" id="id_gerencia" class="col-md-3 col-sm-3 col-xs-12" style='height: 32px'>
                                        <option value=""> Selecione </option>
                                        @foreach (var item in ViewBag.Gerencias)
                                        {
                                            <option value="@item.Id">@item.Sigla</option>
                                        }
                                    </select>
                                </div>
                            </div>

                            <!-- atendimento caf -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="titulo">
                                    Mostrar atendimento CAF
                                </label>
                                <div class="col-md-9 col-sm-3 col-xs-12">
                                    <input style="width: 26px; height: 26px; " type="checkbox" id="atendimento_caf" name="atendimento_caf" value="1"> <font style="font-size: 16px"></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </div>
                            </div>

                            <!-- CHAMADA -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="resumo">
                                    Chamada
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12;">
                                    <textarea style="height: 300px;" name="chamada" id="chamada" class="textareaSimples">
                                                </textarea>
                                </div>
                            </div>



                            <!-- APRESENTACAO -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="resumo">
                                    ApresentaÃ§Ã£o
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12;">
                                    <textarea style="height: 300px;" name="apresentacao" id="apresentacao" class="textareaSimples">
                                                </textarea>
                                </div>
                            </div>




                            <span class="section">Outro responsÃ¡vel</span>

                            <!-- OUTRO RESPONSÃVEL -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="senha">
                                    Nome
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" id="endereco" name="outro_responsavel" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>


                            <!-- FONE-->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="senha">
                                    Fone para contato
                                </label>
                                <div class="col-md-3 col-sm-3 col-xs-12">
                                    <input type="text" id="fone" name="fone" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>

                            <!-- EMAIL -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                                    Email para contato
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" id="email" name="email" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>

                            <!-- FAX -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="fax">
                                    FAX
                                </label>
                                <div class="col-md-3 col-sm-3 col-xs-12">
                                    <input type="text" id="fax" name="fax" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>

                            <!-- HORA ATENDIMENTO-->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                                    HorÃ¡rio de atendimento
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12;">
                                    <input type="text" id="horario_atendimento" name="horario_atendimento" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>

                            <hr>

                            <span class="section">Dados do vÃ­deo</span>



                            <!-- VIDEO URL -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="video_url">
                                    VÃ­deo URL
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12;">
                                    <input type="text" id="video_url" name="video_url" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>





                            <!-- VIDEO ALTURA x LARGURA -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="video_url">
                                    VÃ­deo Altura / Largura
                                </label>
                                <div class="col-md-3 col-sm-3 col-xs-3;">
                                    <input placeholder="Altura do video" type="text" id="video_altura" name="video_altura" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                                <div class="col-md-3 col-sm-3 col-xs-3;">
                                    <input placeholder="Largura do video" type="text" id="video_largura" name="video_largura" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>

                            <!-- VIDEO LEGENDA -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="video_legenda">
                                    VÃ­deo Legenda
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12;">
                                    <input type="text" id="video_legenda" name="video_legenda" value="" class="form-control col-md-3 col-xs-12">
                                </div>
                            </div>
                            <br>
                            <br>
                            <span class="section">Sistemas relacionados</span>

                            <!-- SISTEMAS -->
                            <div class="item form-group" style="">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                                    <button class="btn btn-info" id="adicionar_sistema">Adicionar Sistema</button>
                                </label>

                                <div id="div_sistemas" style="margin-top: 5px;" class="col-md-8 col-sm-6 col-xs-12;">
                                </div>
                            </div>

                            <br>
                            <br>

                            <span class="section">MÃ³dulos relacionados</span>

                            <!-- MODULOS -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                                    <button class="btn btn-info" id="adicionar_modulo" onClick="adicionar_modulo()">Adicionar MÃ³dulo</button>
                                    @*<input type="button" onClick="adicionar_modulo()">*@
                                </label>

                                <div id="div_modulos" style="margin-top: 5px;" class="col-md-8 col-sm-6 col-xs-12;">
                                </div>
                            </div>


                            <br>
                            <br>


                            <span class="section">Links</span>

                            <!-- LINKS -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                                    <button class="btn btn-info" id="adicionar_link">Adicionar Link</button>
                                </label>

                                <div id="div_links" style="margin-top: 5px;" class="col-md-8 col-sm-6 col-xs-12;">
                                </div>
                            </div>


                            <br>
                            <br>



                            <span class="section">Documentos</span>

                            <!-- DOCUMENTOS -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                                    <button class="btn btn-info" id="adicionar_documento">Adicionar Documento</button>
                                </label>

                                <div id="div_documentos" style="margin-top: 5px;" class="col-md-8 col-sm-6 col-xs-12;">
                                </div>
                            </div>


                            <br>
                            <br>




                            <span class="section">Ãudios</span>

                            <!-- AUDIOS -->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                                    <button class="btn btn-info" id="adicionar_audio">Adicionar Ãudio</button>
                                </label>

                                <div id="div_audios" style="margin-top: 5px;" class="col-md-8 col-sm-6 col-xs-12;">
                                </div>
                            </div>

                            <br>
                            <br>

                            <div class="ln_solid"></div>
                            <div class="form-group" style="">
                                <div class="col-md-8 col-md-offset-3" style="">
                                    <button style="width: 120px; padding: 10px; float: left; " id="send" type="button" onclick="validaForm()" class="btn btn-success">Salvar</button>
                                    <button style="float: right; width: 120px; padding: 10px;  " onclick="window.history.back();" type="button" class="btn btn-primary">Voltar</button>
                                </div>
                            </div>
                            <input type="hidden" name="_token" value="{!! csrf_token() !!}" />
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>



</div>
<!-- /page content -->
